<div class="container-fluid px-0 mx-0">
  <div class="row my-3">
    <div class="col-md-9 pl-0">
      <h3 class="font-weight-bolder text-dark">{{searchCategoryFormatted$ |async}} in {{searchLocationFormatted$ |async}}</h3>
    </div>
    <div class="col-md-3">
      <div class="results-sort-type-btn-group btn-group" dropdown>
        <button id="button-animated" dropdownToggle type="button" class="btn btn-link dropdown-toggle text-dark"
          aria-controls="dropdown-animated">
          Sort: <b>Recommended</b> <span class="caret"></span>
        </button>
        <div *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-animated">
          <button type="button" class="btn btn-link">
            <span class=""><i class="fas fa-thumbs-up"></i></span>
            <span class=""> &nbsp;Recommended</span>
          </button>
          <button type="button" class="btn btn-link">
            <span class=""><i class="fas fa-star"></i></span>
            <span class=""> &nbsp;Highest Rated</span>
          </button>
          <button type="button" class="btn btn-link">
            <span class=""><i class="fas fa-eye"></i></span>
            <span class=""> &nbsp;Most Viewed</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="my-3 w-100">
      <div class="promoted-intent-wrapper">
        <div class="border-gray">
          <button class="promoted-intent border-gray">
            <div class="button-content">
              <span class="text-center font-weight-bold text-truncate">
                <div class="d-inline-flex w-100">
                  <div class="pt-2 overflow-hidden">
                    <p class="text-left font-weight-bolder mb-0" style="font-size: 16px;">Takeout</p>
                    <p class="text-left font-weight-light" style="font-size: 12px;">Grab and go</p>
                  </div>
                  <div>
                    <img class="w-75" src="assets/images/svg/takeout.svg" height="72" alt="">
                  </div>
                </div>
              </span>
            </div>
          </button>
        </div>
        <div class="border-gray">
          <button class="promoted-intent border-gray">
            <div class="button-content">
              <span class="text-center font-weight-bold text-truncate">
                <div class="d-inline-flex w-100">
                  <div class="pt-2 overflow-hidden">
                    <p class="text-left font-weight-bolder mb-0" style="font-size: 16px;">Delivery</p>
                    <p class="text-left font-weight-light" style="font-size: 12px;">To your door</p>
                  </div>
                  <div>
                    <img class="w-75" src="assets/images/svg/delivery.svg" height="72" alt="">
                  </div>
                </div>
              </span>
            </div>
          </button>
        </div>
      </div>

    </div>
  </div>
  <div class="row">
    <div class="flex-column w-100 mr-5">
      <div class="container-fluid mx-0 px-0">
        <div class="list-group">
          <div class="w-100">
            <h5 class="text-left my-3 font-weight-bold">Sponsered Results <button type="button" [popover]="sponsoredResultsPopup" [placement]="'right'"
              triggers="mouseenter:focusout" [outsideClick]="'true'" containerClass="sponsoredResultsPopup" class="btn btn-link text-dark"><i class="fas fa-info-circle"></i></button></h5>
          </div>
          <a *ngFor="let biz of bizSearchResults$ | async" [routerLink]="['/biz', biz.id]" class="list-group-item list-group-item-action flex-grow-0 my-2">
            <div class="row">
              <div class="col-3">
                <img src="https://via.placeholder.com/200" alt="">
              </div>
              <div class="col flex-column">
                <div class="d-flex w-100">
                  <div class="mr-auto">
                    <h5 class="font-weight-bolder">{{biz.name}}</h5>
                    <p>{{getBizPriceLevel(biz.priceLevel)}} - {{biz.categories.join(', ')}}</p>
                  </div>
                  <div class="text-right">
                    <p style="font-size: 12px;line-height: 18px;" class="mb-0">{{biz.contact?.phone}}</p>
                    <address style="font-size: 12px;line-height: 18px;">{{biz.contact?.address?.short}}</address>
                    <div class="mb-1"></div>
                  </div>
                </div>
                <div class="border-0 d-flex" *ngIf="biz.highlights">
                  <ul class="list-group">
                    <li class="list-group-item border-0 py-1" *ngFor="let hl of biz.highlights; let i = index;">
                      <div class="d-flex">
                        <div class="row">
                          <div class="border-0 mr-1">
                            <span><i style="font-size: 24px;" [ngClass]="[hl.icon, hl.color]"></i></span>
                          </div>
                          <div class="border-0 mr-1">
                            <p class="font-weight-bold">{{hl.text}}</p>
                          </div>
                          <button *ngIf="i === 0" type="button" [popover]="highlightsPopup" [placement]="'right'" triggers="mouseenter:highlightsPopup mouseleave"
                            [outsideClick]="'true'" class="btn btn-link text-dark" style="margin-top: -12px;"><i
                              class="fas fa-info-circle"></i></button>
                        </div>
                      </div>
                    </li>
                  </ul>
                  <!-- <div class="d-inline-block align-items-center" *ngFor="let hl of biz.highlights">
                    <div class="border-0">
                      <div class="d-flex">
                        <div class="row">
                          <div class="border-0 ml-3 mr-1">
                            <span><i style="font-size: 24px;" [ngClass]="[hl.icon, hl.color]"></i></span>
                          </div>
                          <div class="border-0 mr-1">
                            <p class="font-weight-bold">{{hl.text}}</p>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="border-0">
                  </div> -->
                </div>
                <div class="border-0">
                  <div class="d-flex">
                    <span class="mr-1"><i class="fas" [ngClass]="biz.offersDelivery ? 'fa-check':'fa-thumbs-down'"></i></span>
                    <span><p class="font-weight-bold">Offers Delivery</p></span>
                  </div>
                </div>
                <div class="border-0">
                  <div class="d-flex">
                    <span class="mr-1"><i class="fas" [ngClass]="biz.offersTakeout ? 'fa-check':'fa-thumbs-down'"></i></span>
                    <span>
                      <p class="font-weight-bold">Offers Takeout</p>
                    </span>
                  </div>
                </div>
              </div>

            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #sponsoredResultsPopup>
  <p>
   Business owners paid for these ads. For more information visit <a routerLink="/admin" class="color: blue;">ReviewMaster for Business</a>.
  </p>
</ng-template>
<ng-template #highlightsPopup>
  <p>
    These Highlights are provided by and paid for by the business. For more information visit <a routerLink="admin">ReviewMaster for Business Owners</a>.
  </p>
</ng-template>

